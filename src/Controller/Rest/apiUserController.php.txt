<?php

namespace AppBundle\Controller; 
/* namespace App\Controller\Rest; */
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\Routing\Annotation\Route;
use FOS\RestBundle\Controller\AbstractFOSRestController;
use App\Entity\Usuario;

/**
 * @Rest\Route("api/userController")
 */
class apiUserController extends AbstractFOSRestController
{

    /**
     * Retorna lista de usuarios  
     * @Rest\Post("/list")
     * @param Request $request
     * @return View
     */
    public function postListUser(Request $request): View
    {
        $em = $this->getDoctrine()->getManager();

        $usuarios = $em->getRepository(Usuario::class)->findAll();
                                    
        /*
        return $this->render('usuario/lista_usuario.html.twig',["users" => $usuarios]);
        
        $article = new Article();
        $article->setTitle($request->get('title'));
        $article->setContent($request->get('content'));
        $this->articleRepository->save($article);
        // In case our POST was a success we need to return a 201 HTTP CREATED response
        */
        return View::create($usuarios, Response::HTTP_CREATED);
    }

}    
